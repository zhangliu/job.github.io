{"version":3,"sources":["components/page/index.jsx","utils/touch.js","utils/canvas.js","pages/index/index.jsx","App.js","index.js"],"names":["ClassName","this","initCanvas","canvas","page","id","Math","random","node","callback","width","document","documentElement","clientWidth","height","clientHeight","config","ctx","getContext","strokeStyle","ontouchstart","e","x","touches","clientX","y","clientY","beginPath","moveTo","ontouchmove","targetX","offsetLeft","targetY","offsetTop","lineWidth","lineTo","stroke","ontouchend","learnLine","next","window","$","nextId","location","href","origin","on","start","swipestart","coords","initTurnLeft","history","go","data-role","props","ref","className","children","React","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"yLAGqBA,G,wLAEjBC,KAAKC,WAAWD,KAAKE,QACjBF,KAAKG,OAAMH,KAAKG,KAAKC,GAAV,eAAuC,IAAhBC,KAAKC,a,iCAGlCJ,GAAS,ICTQK,EAAMC,EDSf,OACZN,IACLA,EAAOO,MAAQC,SAASC,gBAAgBC,YACxCV,EAAOW,OAASH,SAASC,gBAAgBG,aEZpB,SAACZ,GAAyB,IAAjBa,EAAgB,uDAAP,GACnCC,EAAMd,EAAOe,WAAW,MAC9BD,EAAIE,YAAcH,EAAOG,aAAe,UAExChB,EAAOiB,aAAe,SAAUC,GAC9B,IAAMC,EAAID,EAAEE,QAAQ,GAAGC,QACjBC,EAAIJ,EAAEE,QAAQ,GAAGG,QACvBT,EAAIU,YACJV,EAAIW,OAAON,EAAGG,GAEdtB,EAAO0B,YAAc,SAAUR,GAC7B,IAAMS,EAAUT,EAAEE,QAAQ,GAAGC,QAAUvB,KAAK8B,WACtCC,EAAUX,EAAEE,QAAQ,GAAGG,QAAUzB,KAAKgC,UAC5ChB,EAAIiB,UAAY,EAChBjB,EAAIkB,OAAOL,EAASE,GACpBf,EAAImB,UAGNjC,EAAOkC,WAAa,SAAUhB,GAC5BlB,EAAO0B,YAAc,KACrB1B,EAAOkC,WAAa,OFPtBC,CAAUnC,GCbgBK,EDcZL,ECdkBM,EDcV,WACpB,IAAM8B,EAAOC,OAAOC,EAAE,EAAKrC,MAAMmC,OAAO,GACxC,GAAKA,EAAL,CACA,IAAMG,EAASH,EAAKlC,GACpBmC,OAAOG,SAASC,KAAhB,UAA0BJ,OAAOG,SAASE,OAA1C,YAAoDH,KCVxDF,OAAOC,EAAEjC,GAAMsC,GAAG,aAPE,SAAAzB,GAClB,IAAM0B,EAAQ1B,EAAE2B,WAAWC,OAAO,GACpBtC,SAASC,gBAAgBC,YAC3BkC,EAAQ,IAChBtC,GAAUA,OAKU,SAACD,EAAMC,GAOjC+B,OAAOC,EAAEjC,GAAMsC,GAAG,cANG,SAAAzB,GACLA,EAAE2B,WAAWC,OAAO,GACtB,IACRxC,GAAUA,ODMdyC,CAAa/C,GAAQ,kBAAMqC,OAAOW,QAAQC,IAAI,S,+BAGtC,IAAD,OACP,OAAO,yBAAKC,YAAU,OAAOhD,GAAIJ,KAAKqD,MAAMjD,GAAIkD,IAAK,SAAA/C,GAAI,OAAI,EAAKJ,KAAOI,IACrE,4BAAQgD,UAAU,iBAAiBD,IAAK,SAAA/C,GAAI,OAAI,EAAKL,OAASK,KAC7DP,KAAKqD,MAAMG,c,GAvBmBC,IAAMC,YGDxB3D,E,uKAEjB,OAAO,6BACH,kBAAC,EAAD,kCAIA,kBAAC,EAAD,0G,GAP+B0D,IAAMC,WCK9BC,MAJf,WACE,OAAO,kBAAC,EAAD,OCDTC,IAASC,OAAO,kBAAC,IAAMC,WAAP,KACZ,kBAAC,EAAD,OACmBpD,SAASqD,eAAe,U","file":"static/js/main.5367fcbd.chunk.js","sourcesContent":["import './index.ctc.css';import React from 'react';\nimport { learnLine } from '../../utils/canvas';\nimport { initTurnLeft, initTurnRight } from '../../utils/touch';\nexport default class ClassName extends React.Component {\n  componentDidMount() {\n    this.initCanvas(this.canvas);\n    if (this.page) this.page.id = `page_${Math.random() * 100}`;\n  }\n\n  initCanvas(canvas) {\n    if (!canvas) return;\n    canvas.width = document.documentElement.clientWidth;\n    canvas.height = document.documentElement.clientHeight;\n    learnLine(canvas);\n    initTurnRight(canvas, () => {\n      const next = window.$(this.page).next()[0];\n      if (!next) return;\n      const nextId = next.id;\n      window.location.href = `${window.location.origin}#${nextId}`;\n    });\n    initTurnLeft(canvas, () => window.history.go(-1));\n  }\n\n  render() {\n    return <div data-role=\"page\" id={this.props.id} ref={node => this.page = node}>\n        <canvas className=\"p_s_a zi_s_100\" ref={node => this.canvas = node} />\n        {this.props.children}\n      </div>;\n  }\n\n}","export const initTurnRight = (node, callback) => {\n  const onSwipeleft = e => {\n    const start = e.swipestart.coords[0];\n    const right = document.documentElement.clientWidth;\n    if (right - start > 10) return;\n    if (callback) callback(); // window.$(node).off('swipeleft', onSwipeleft);\n  };\n\n  window.$(node).on('swipeleft', onSwipeleft);\n};\nexport const initTurnLeft = (node, callback) => {\n  const onSwiperight = e => {\n    const start = e.swipestart.coords[0];\n    if (start > 10) return;\n    if (callback) callback(); // window.$(node).off('swiperight', onSwiperight);\n  };\n\n  window.$(node).on('swiperight', onSwiperight);\n};","export const learnLine = (canvas, config = {}) => {\n  const ctx = canvas.getContext('2d');\n  ctx.strokeStyle = config.strokeStyle || '#ff4d4f';\n\n  canvas.ontouchstart = function (e) {\n    const x = e.touches[0].clientX;\n    const y = e.touches[0].clientY;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n\n    canvas.ontouchmove = function (e) {\n      const targetX = e.touches[0].clientX - this.offsetLeft;\n      const targetY = e.touches[0].clientY - this.offsetTop;\n      ctx.lineWidth = 1;\n      ctx.lineTo(targetX, targetY);\n      ctx.stroke();\n    };\n\n    canvas.ontouchend = function (e) {\n      canvas.ontouchmove = null;\n      canvas.ontouchend = null;\n    };\n  };\n};","import React from 'react';\nimport Page from '../../components/page';\nexport default class ClassName extends React.Component {\n  render() {\n    return <div>\n        <Page>\n          fdafajflajLjfdlksjalfdjal\n        </Page>\n\n        <Page>\n          fjdsljflsjflks丽枫酒店死啦就发领导设计费\n        </Page>\n      </div>;\n  }\n\n}","import React from 'react';\nimport Page from './pages/index';\n\nfunction App() {\n  return <Page />;\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(<React.StrictMode>\n    <App />\n  </React.StrictMode>, document.getElementById('root'));"],"sourceRoot":""}